# Prompt Refinement Backend TODO

## Snapshot
- **Phase**: Backend Foundation & Integration (see `plan.md`)
- **Current Focus**: Step A1.1 — Scaffold backend workspace
- **Owner**: Backend squad (Edu to review milestones)
- **Last Updated**: 2025-10-24

---

## Phase A — Backend Foundation
- [ ] **A1.1** Scaffold backend workspace
- [ ] **A1.2** Tooling & quality gates
- [ ] **A1.3** Fastify server skeleton
- [ ] **A2.1** Environment loader
- [ ] **A2.2** Error handling utilities
- [ ] **A3.1** Drizzle bootstrap & base schema
- [ ] **A3.2** Dataset schema & persistence
- [ ] **A3.3** Run schema completion

## Phase B — Domain Services
- [ ] **B1.1** Prompt service with versioning
- [ ] **B1.2** Dataset ingestion pipeline
- [ ] **B2.1** Model config registry

## Phase C — Run Execution Pipeline
- [ ] **C1.1** Run creation & validation
- [ ] **C1.2** Queue harness & worker skeleton
- [ ] **C1.3** Provider adapters & mock executor
- [ ] **C1.4** Grading & metrics
- [ ] **C2.1** Run polling APIs
- [ ] **C2.2** Supabase Realtime option (flagged)

## Phase D — Frontend Integration & Auth
- [ ] **D1.1** Auth middleware
- [ ] **D1.2** Prompt/dataset APIs + FE wiring
- [ ] **D1.3** Run execution APIs + FE wiring
- [ ] **D2.1** Remove mocks + feature flags
- [ ] **D2.2** Config surface & cleanup

## Phase E — Hardening & Ops
- [ ] **E1** Observability & metrics
- [ ] **E2** CI/CD pipeline
- [ ] **E3** Documentation & onboarding
